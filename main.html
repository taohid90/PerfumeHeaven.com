<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <title>Tinoz - Taohid Islam</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet"/>
    <script src="https://content.jwplatform.com/libraries/KB5zFt7A.js"></script>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
        }
        .fixed-header {
            position: sticky;
            top: 0;
            z-index: 50;
            background: linear-gradient(to bottom, #4a1a3a, transparent);
        }
        .video-player-container {
            position: relative;
            width: 100%;
            max-width: 100%;
            margin: 0 auto;
        }
        .jwplayer {
            width: 100% !important;
            height: auto !important;
            aspect-ratio: 16/9;
        }
        .section-hidden {
            display: none;
        }
        .nav-button {
            transition: all 0.3s ease;
        }
        .nav-button.active {
            border-bottom: 2px solid white;
            opacity: 1;
        }
        .grid-container {
            display: grid;
            grid-template-columns: repeat(3, minmax(80px, 1fr));
            gap: 12px;
            padding: 0 16px;
        }
        .grid-container.movies {
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        }
        .grid-item {
            position: relative;
            overflow: hidden;
            border-radius: 8px;
        }
        .grid-item img {
            width: 100%;
            height: auto;
            object-fit: cover;
        }
        .carousel-container {
            position: relative;
            overflow: hidden;
            border-radius: 8px;
        }
        .carousel-image {
            width: 100%;
            height: auto;
            object-fit: cover;
            transition: opacity 0.5s ease-in-out;
        }
        .carousel-image.hidden {
            opacity: 0;
            position: absolute;
            top: 0;
        }
        .search-input {
            transition: all 0.3s ease;
        }
    </style>
</head>
<body class="bg-[#0a0a0a] text-white">
    <!-- Header -->
    <header id="header" class="fixed-header flex items-center justify-between px-4 py-3">
        <div class="flex items-center space-x-2">
            <img id="header-logo" alt="Toffee logo, stylized white swirl icon" class="w-8 h-8" height="32" src="https://cdn-icons-png.flaticon.com/128/11710/11710751.png" width="32"/>
            <span id="header-text" class="text-white font-semibold text-lg tracking-wide">Tinoz</span>
            <button id="back-button" class="hidden text-white text-lg"><i class="fas fa-arrow-left"></i></button>
        </div>
        <div id="header-right">
            <button id="search-button" class="text-white text-lg"><i class="fas fa-search"></i></button>
        </div>
    </header>

    <!-- Search Input -->
    <div id="search-container" class="hidden px-4 py-3 bg-[#1a1a1a]">
        <div class="flex items-center space-x-2">
            <input id="search-input" type="text" placeholder="Search..." class="w-full p-2 rounded-lg bg-[#2a2a2a] text-white border-none focus:outline-none"/>
            <button id="close-search" class="text-white text-lg"><i class="fas fa-times"></i></button>
        </div>
    </div>

    <!-- Video Player -->
    <div id="video-player-container" class="video-player-container hidden">
        <div id="jw-player"></div>
    </div>

    <!-- Navigation -->
    <nav id="nav-bar" class="flex space-x-6 px-4 mt-4 text-white font-semibold text-base">
        <button class="nav-button active" data-section="all">All</button>
        <button class="nav-button opacity-80" data-section="live">Live TV</button>
        <button class="nav-button opacity-80" data-section="movies">Movies</button>
    </nav>

    <!-- Carousel (Visible only in All) -->
    <section id="carousel-section" class="relative mt-4 px-4">
        <div class="carousel-container">
            <img class="carousel-image" alt="Carousel image 1" height="200" src="https://i.postimg.cc/Z5tBhRvp/20250423-223243.jpg" width="600"/>
            <img class="carousel-image hidden" alt="Carousel image 2" height="200" src="https://i.postimg.cc/QxW9P5Cj/20250423-223337.jpg" width="600"/>
            <img class="carousel-image hidden" alt="Carousel image 3" height="200" src="https://i.postimg.cc/XNPBQxV2/20250423-223450.jpg" width="600"/>
            <div aria-label="Next slide" class="absolute right-4 top-1/2 -translate-y-1/2 text-white text-2xl cursor-pointer select-none carousel-control" data-direction="next">></div>
            <div aria-label="Previous slide" class="absolute left-4 top-1/2 -translate-y-1/2 text-white text-2xl cursor-pointer select-none carousel-control" data-direction="prev"><</div>
        </div>
    </section>

    <!-- Live Section -->
    <section id="live-section" class="mt-6 px-4">
        <div class="flex items-center justify-between mb-2">
            <h2 class="text-white font-semibold text-lg">Live</h2>
        </div>
        <div class="grid-container">
            <div class="grid-item live-channel cursor-pointer" data-video="https://content.jwplatform.com/videos/sample1.mp4" data-title="IPL Live">
                <img alt="IPL Live channel logo" class="rounded-full" height="80" src="https://storage.googleapis.com/a1aa/image/43cbfaca-40a5-41ae-85cb-e594ca2a34be.jpg" width="80"/>
            </div>
            <div class="grid-item live-channel cursor-pointer" data-video="https://content.jwplatform.com/videos/sample2.mp4" data-title="PSL Live">
                <img alt="PSL Live channel logo" class="rounded-full" height="80" src="https://storage.googleapis.com/a1aa/image/fef2830e-d7d5-4080-5976-9071df263f80.jpg" width="80"/>
            </div>
            <div class="grid-item live-channel cursor-pointer" data-video="https://content.jwplatform.com/videos/sample3.mp4" data-title="ZEE Bangla">
                <img alt="ZEE Bangla channel logo" class="rounded-full" height="80" src="https://storage.googleapis.com/a1aa/image/1f2c8658-f426-47f3-0820-1f38fc9ffe88.jpg" width="80"/>
            </div>
            <div class="grid-item live-channel cursor-pointer" data-video="https://content.jwplatform.com/videos/sample4.mp4" data-title="Sony Sports 1 HD">
                <img alt="Sony Sports 1 HD channel logo" class="rounded-full" height="80" src="https://storage.googleapis.com/a1aa/image/2a722e4d-4d11-41fd-5d4a-4ace53964864.jpg" width="80"/>
            </div>
            <div class="grid-item live-channel cursor-pointer" data-video="https://content.jwplatform.com/videos/sample5.mp4" data-title="Channel 5">
                <img alt="Channel 5 logo" class="rounded-full" height="80" src="https://storage.googleapis.com/a1aa/image/a533fb8a-d915-4da0-5301-654e38f76eb5.jpg" width="80"/>
            </div>
        </div>
    </section>

    <!-- Trending Section -->
    <section id="trending-section" class="mt-6 px-4">
        <div class="flex items-center justify-between mb-2">
            <h2 class="text-white font-semibold text-lg">ট্রেন্ডিং</h2>
        </div>
        <div class="grid-container movies">
            <div class="grid-item movie-item cursor-pointer" data-video="https://content.jwplatform.com/videos/sample6.mp4" data-title="Alif Al Sazol">
                <img alt="Alif Al Sazol movie poster" height="216" src="https://storage.googleapis.com/a1aa/image/5934cd6b-dcf5-4ff0-8e68-cdc36fc02713.jpg" width="144"/>
                <div class="absolute bottom-0 w-full text-center text-white text-xs font-semibold py-1 bg-gradient-to-r from-purple-600 to-pink-500">Recently Added</div>
            </div>
            <div class="grid-item movie-item cursor-pointer" data-video="https://content.jwplatform.com/videos/sample7.mp4" data-title="Disaster Scene">
                <img alt="Soldier helping woman injured in disaster scene movie poster" height="216" src="https://storage.googleapis.com/a1aa/image/6949f2b6-ddb3-44d0-6035-63c79e7f0e5d.jpg" width="144"/>
                <div class="absolute bottom-0 w-full text-center text-white text-xs font-semibold py-1 bg-gradient-to-r from-purple-600 to-pink-500">Recently Added</div>
            </div>
            <div class="grid-item movie-item cursor-pointer" data-video="https://content.jwplatform.com/videos/sample8.mp4" data-title="Jurassic">
                <img alt="Jurassic movie poster" height="216" src="https://storage.googleapis.com/a1aa/image/3d23acd2-ba56-4c11-d1b3-da55a3c7cfd1.jpg" width="144"/>
            </div>
        </div>
    </section>

    <!-- Bollywood Section -->
    <section id="bollywood-section" class="mt-6 px-4 mb-6">
        <div class="flex items-center justify-between mb-2">
            <h2 class="text-white font-semibold text-lg">বলিউড</h2>
        </div>
        <div class="grid-container movies">
            <div class="grid-item movie-item cursor-pointer" data-video="https://content.jwplatform.com/videos/sample9.mp4" data-title="Halla Bol">
                <img alt="Halla Bol movie poster" height="216" src="https://storage.googleapis.com/a1aa/image/6e1b0354-c6a5-4c7f-5522-a194bbfd0c93.jpg" width="144"/>
            </div>
            <div class="grid-item movie-item cursor-pointer" data-video="https://content.jwplatform.com/videos/sample10.mp4" data-title="Anukul">
                <img alt="Anukul movie poster" height="216" src="https://storage.googleapis.com/a1aa/image/a7bef0c7-0f7a-496d-9e5a-1c1186849782.jpg" width="144"/>
            </div>
            <div class="grid-item movie-item cursor-pointer" data-video="https://content.jwplatform.com/videos/sample11.mp4" data-title="Gol">
                <img alt="Gol movie poster" height="216" src="https://storage.googleapis.com/a1aa/image/f71e5053-f87e-4be6-3850-a4977dcc6954.jpg" width="144"/>
            </div>
        </div>
    </section>

    <script>
        let playerInstance = null;
        const navButtons = document.querySelectorAll('.nav-button');
        const sections = {
            all: ['carousel-section', 'live-section', 'trending-section', 'bollywood-section'],
            live: ['live-section'],
            movies: ['trending-section', 'bollywood-section']
        };
        let currentSection = 'all';
        let carouselIndex = 0;
        const carouselImages = document.querySelectorAll('.carousel-image');
        let carouselInterval;

        // Carousel animation
        function startCarousel() {
            carouselInterval = setInterval(() => {
                carouselImages[carouselIndex].classList.add('hidden');
                carouselIndex = (carouselIndex + 1) % carouselImages.length;
                carouselImages[carouselIndex].classList.remove('hidden');
            }, 3000);
        }

        function stopCarousel() {
            clearInterval(carouselInterval);
        }

        function showCarouselImage(index) {
            stopCarousel();
            carouselImages[carouselIndex].classList.add('hidden');
            carouselIndex = index;
            carouselImages[carouselIndex].classList.remove('hidden');
            startCarousel();
        }

        document.querySelectorAll('.carousel-control').forEach(control => {
            control.addEventListener('click', () => {
                const direction = control.dataset.direction;
                let newIndex = direction === 'next' ? carouselIndex + 1 : carouselIndex - 1;
                if (newIndex < 0) newIndex = carouselImages.length - 1;
                if (newIndex >= carouselImages.length) newIndex = 0;
                showCarouselImage(newIndex);
            });
        });

        // Navigation button handling
        navButtons.forEach(button => {
            button.addEventListener('click', () => {
                navButtons.forEach(btn => {
                    btn.classList.remove('active');
                    btn.classList.add('opacity-80');
                });
                button.classList.add('active');
                button.classList.remove('opacity-80');

                const section = button.dataset.section;
                currentSection = section;
                updateSections(section);
            });
        });

        // Update visible sections
        function updateSections(section) {
            document.querySelectorAll('section').forEach(sec => sec.classList.add('section-hidden'));
            sections[section].forEach(id => {
                document.getElementById(id).classList.remove('section-hidden');
            });
            document.getElementById('carousel-section').classList.toggle('section-hidden', section !== 'all' || playerInstance);
            if (section === 'all' && !playerInstance) startCarousel();
            else stopCarousel();
        }

        // Video player setup
        function setupVideoPlayer(videoUrl) {
            if (playerInstance) {
                playerInstance.remove();
            }
            document.getElementById('video-player-container').classList.remove('hidden');
            document.getElementById('header-logo').classList.add('hidden');
            document.getElementById('header-text').classList.add('hidden');
            document.getElementById('back-button').classList.remove('hidden');
            document.getElementById('nav-bar').classList.add('hidden');
            document.getElementById('carousel-section').classList.add('section-hidden');

            playerInstance = jwplayer('jw-player').setup({
                file: videoUrl,
                width: '100%',
                aspectratio: '16:9',
 nightly: true,
                controls: true
            });

            updateSections(currentSection);
        }

        // Back button handler
        document.getElementById('back-button').addEventListener('click', () => {
            if (playerInstance) {
                playerInstance.remove();
                playerInstance = null;
            }
            document.getElementById('video-player-container').classList.add('hidden');
            document.getElementById('header-logo').classList.remove('hidden');
            document.getElementById('header-text').classList.remove('hidden');
            document.getElementById('back-button').classList.add('hidden');
            document.getElementById('nav-bar').classList.remove('hidden');
            updateSections(currentSection);
        });

        // Channel and movie click handlers
        document.querySelectorAll('.live-channel, .movie-item').forEach(item => {
            item.addEventListener('click', () => {
                const videoUrl = item.dataset.video;
                setupVideoPlayer(videoUrl);
            });
        });

        // Search functionality
        document.getElementById('search-button').addEventListener('click', () => {
            document.getElementById('header').classList.add('hidden');
            document.getElementById('search-container').classList.remove('hidden');
            document.getElementById('search-input').focus();
        });

        document.getElementById('close-search').addEventListener('click', () => {
            document.getElementById('header').classList.remove('hidden');
            document.getElementById('search-container').classList.add('hidden');
            document.getElementById('search-input').value = '';
            filterContent('');
        });

        document.getElementById('search-input').addEventListener('input', (e) => {
            filterContent(e.target.value.toLowerCase());
        });

        function filterContent(query) {
            document.querySelectorAll('.grid-item').forEach(item => {
                const title = item.dataset.title.toLowerCase();
                item.classList.toggle('section-hidden', query && !title.includes(query));
            });
        }

        // Initial setup
        updateSections('all');
        startCarousel();
    </script>
</body>
</html>
